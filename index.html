<!DOCTYPE html>
<html ng-app="weatherApp">
<head>
	<title>Leon sää-app</title>
	<script type="text/javascript" src="dist/main-bundle.js"></script>
	<link rel="stylesheet" href="dist/main-bundle-css.css" />
</head>
<body ng-controller="observationController">
	<h1>{{muuttuja}}</h1>
	<h2>Tallenna uusi havainto</h2>
	<form name="newObservationForm" novalidate>
		<div class="alert alert-danger" ng-show="newObservationForm.newObservationCity.$invalid && newObservationForm.newObservationCity.$touched">
			Sinun tulee valita kaupunki!
		</div>
		<select name="newObservationCity" ng-options="observation.cityName as observation.cityName for observation in observations" ng-model="newObservation.cityName" required>
		</select>
		<div class="alert alert-danger" ng-show="newObservationForm.newObservationTemperature.$invalid && newObservationForm.newObservationTemperature.$touched">
			Syöttämäsi arvo ei ole validi desimaaliluku, max. 2 desimaalia sallittu
		</div>
		<input name="newObservationTemperature" type="number" step="0.01" ng-model="newObservation.temperature" required />
		<button class="btn btn-info" ng-click="addNewObservation()">Tallenna uusi havainto</button>
	</form>
	<table class="table">
		<thead>
			<tr>
				<th>Kaupungin nimi</th>
				<th>Leveysaste</th>
				<th>Pituusaste</th>
				<th>Lämpötilat</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="observation in observations">
				<td>{{observation.cityName}}</td>
				<td>{{observation.latitude}}</td>
				<td>{{observation.longtitude}}</td>
				<td>
					<p ng-repeat="temperature in observation.temperatures">{{temperature}}</p>
				</td>
			</tr>
		</tbody>
	</table>
</body>
</html>
